spring.application.name=identityAndUser-service
# Run on a random available port in Docker, or specific port locally
server.port=8081

# --- DATABASE CONFIGURATION ---
# "agro_postgres" matches the container name in docker-compose
spring.datasource.url=jdbc:postgresql://localhost:5435/agro_link_db
spring.datasource.username=${DB_USER:agro_admin}
spring.datasource.password=${DB_PASSWORD:secure_agro_password_123}
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA / Hibernate
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# --- EUREKA CONFIGURATION ---
eureka.client.serviceUrl.defaultZone=http://${EUREKA_HOST:localhost}:8761/eureka/
eureka.instance.prefer-ip-address=true
spring.cloud.config.enabled=false

# JWT Configuration
# This is a 256-bit URL-safe key generated specifically for this project
#application.security.jwt.secret-key=hNrENfhMcRYpyD0pJQ5JpGCquGmdQrnRFe1Q9gkOQ7c
application.security.jwt.secret-key=${JWT_SECRET}
application.security.jwt.expiration=86400000

JWT_SECRET=5367566B59703373367639792F423F4528482B4D6251655468576D5A71347437

# Use variables from Docker, otherwise use these defaults
spring.mail.host=${SPRING_MAIL_HOST:smtp.gmail.com}
spring.mail.port=${SPRING_MAIL_PORT:587}
spring.mail.username=${SPRING_MAIL_USERNAME:agrolinkcustomerservice@gmail.com}
spring.mail.password=${SPRING_MAIL_PASSWORD:lqtm kgxw llux whky}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true